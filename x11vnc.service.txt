[Unit]
Description=X11 VNC Remote Desktop Service
After=multi-user.target display-manager.service
Wants=display-manager.service

[Service]
Type=simple
User=admin
Environment="DISPLAY=:0"
ExecStart=/usr/bin/x11vnc -auth guess -forever -loop -noxdamage -repeat -rfbauth /etc/x11vnc.pass -rfbport 5900 -shared -localhost no
ExecStop=/usr/bin/killall x11vnc
Restart=on-failure
RestartSec=3

[Install]
WantedBy=multi-user.target